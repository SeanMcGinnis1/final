let firebase = require('./firebase')

exports.handler = async function(event) {
  let db = firebase.firestore()
  let data = ["AAPL",
  "XOM",
  "MSFT",
  "BAC",
  "IBM",
  "CVX",
  "GE",
  "WMT",
  "T",
  "JNJ",
  "PG",
  "WFC",
  "KO",
  "PFE",
  "JPM",
  "GOOG",
  "PM",
  "VOD",
  "ORCL",
  "INTC",
  "MRK",
  "VZ",
  "BRK",
  "QCOM",
  "PEP",
  "CSCO",
  "AMZN",
  "ABT",
  "MCD",
  "SLB",
  "C",
  "BAC",
  "RY",
  "HD",
  "DIS",
  "TD",
  "UTX",
  "OXY",
  "AXP",
  "KFT",
  "COP",
  "MO",
  "CAT",
  "V",
  "CMCSA",
  "MMM",
  "USB",
  "AIG",
  "EMC",
  "CVS",
  "BNS",
  "UNH",
  "BA",
  "UPS",
  "BMY",
  "AMGN",
  "UNP",
  "GS",
  "MA",
  "EBAY",
  "DD",
  "HPQ",
  "LLY",
  "CL",
  "SU",
  "SPG",
  "EPD",
  "HON",
  "LVS",
  "ESRX",
  "SBUX",
  "NKE",
  "ACN",
  "F",
  "MDT",
  "SO",
  "MON",
  "TEVA",
  "DOW",
  "GILD",
  "ABX",
  "IMO",
  "LOW",
  "DHR",
  "CNI",
  "DB",
  "TGT",
  "PCLN",
  "BMO",
  "POT",
  "MET",
  "COST",
  "EMR",
  "BIDU",
  "TXN",
  "GM",
  "TWX",
  "CNQ",
  "FCX",
  "APC",
  "PNC",
  "PX",
  "APA",
  "BP",
  ] // sample only...
  //console.log(data)

  for (let i=0; i<data.length; i++) {
    console.log(data[i])
    let docRef = await db.collection('knowntickers').add({
      text: data[i]
    })
  }

  return {
    statusCode: 200,
    body: JSON.stringify(data)
  }
}